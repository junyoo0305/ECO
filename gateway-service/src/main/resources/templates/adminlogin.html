<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 로그인 - 기업 재생에너지 지원센터</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* [전체 초기화] */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            /* [배경] 재생에너지 컨셉의 초록색 그라데이션 적용 */
            background: linear-gradient(135deg, #1b5e20 0%, #4caf50 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* [상단 타이틀 (박스 밖)] */
        .page-title {
            color: #fff;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* [로그인 카드 (흰색 박스)] */
        .login-card {
            background-color: #fff;
            width: 500px; /* 너비 */
            padding: 40px 50px;
            border-radius: 4px; /* 살짝 둥근 모서리 */
            box-shadow: 0 15px 35px rgba(0,0,0,0.2); /* 깊은 그림자 효과 */
            text-align: center;
        }

        /* [Login 타이틀 영역] */
        .card-header {
            margin-bottom: 30px;
            text-align: left; /* 왼쪽 정렬 */
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            display: flex;
            align-items: baseline;
            gap: 10px;
        }
        .text-login {
            font-size: 32px;
            font-weight: 700;
            color: #2e7d32; /* 포인트 컬러 (초록색) */
        }
        .text-welcome {
            font-size: 14px;
            color: #888;
            font-weight: 400;
        }

        /* [입력 폼 영역] */
        .input-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .input-label {
            width: 100px; /* 라벨 고정 너비 */
            text-align: right;
            padding-right: 15px;
            font-size: 14px;
            font-weight: 500;
            color: #555;
        }
        .input-field {
            flex: 1; /* 남은 공간 다 차지 */
            height: 40px;
            border: 1px solid #ddd;
            padding: 0 10px;
            outline: none;
            transition: border-color 0.3s;
            font-family: 'Noto Sans KR', sans-serif;
        }
        .input-field:focus {
            border-color: #2e7d32; /* 포커스 시 초록색 테두리 */
        }

        /* [로그인 버튼] */
        .btn-login {
            width: 100%;
            height: 45px;
            margin-top: 20px;
            /* 버튼 그라데이션 */
            background: linear-gradient(to bottom, #43a047, #2e7d32);
            border: 1px solid #2e7d32;
            color: #fff;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-login:hover {
            background: linear-gradient(to bottom, #2e7d32, #1b5e20);
        }

        /* [하단 저작권 (박스 밖)] */
        .copyright {
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 11px;
            letter-spacing: 0.5px;
        }

    </style>
</head>
<body>

<h1 class="page-title">기업 재생에너지 지원센터 관리자</h1>

<div class="login-card">
    <div class="card-header">
        <span class="text-login">Login</span>
        <span class="text-welcome">관리자페이지에 오신걸 환영합니다.</span>
    </div>

    <form id="loginForm">
        <div class="input-group">
            <label for="userId" class="input-label">User ID</label>
            <input type="text" id="userId" class="input-field" placeholder="아이디를 입력하세요">
        </div>
        <div class="input-group">
            <label for="password" class="input-label">Password</label>
            <input type="password" id="password" class="input-field" placeholder="비밀번호를 입력하세요">
        </div>

        <button type="submit" class="btn-login">로그인</button>
    </form>
</div>

<div class="copyright">
    COPYRIGHT RE-CENTER ALLIANCE. ALL RIGHTS RESERVED.
</div>

<script>
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const userId = document.getElementById('userId').value;
        const password = document.getElementById('password').value;

        if(!userId || !password) {
            alert("아이디와 비밀번호를 모두 입력해주세요.");
            return;
        }

        const data = { userId: userId, password: password };

        fetch('/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data),
        })
            .then(response => {
                if (response.ok) {
                    sessionStorage.setItem('loginStatus', 'active');
                    location.href = '/memberlist';
                } else {
                    response.text().then(text => {
                        alert("로그인 실패: " + text);
                    }).catch(() => {
                        alert("아이디 또는 비밀번호가 일치하지 않습니다.");
                    });
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('서버 오류가 발생했습니다.');
            });
    });
</script>

</body>
</html>